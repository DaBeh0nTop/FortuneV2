<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fortune Cookie</title>
<link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@400;700&family=Poppins:wght@400;700&display=swap" rel="stylesheet">
<style>
:root {
  --bg-start:#f5f5dc; --bg-end:#f0e68c;
  --cookie-shadow:#e0ac69;
  --good:#20b2aa; --bad:#ff4500;
}
body {
  margin:0; font-family:'Comfortaa', cursive;
  display:flex; flex-direction:column; justify-content:center; align-items:center;
  min-height:100vh; text-align:center;
  background: linear-gradient(135deg,var(--bg-start),var(--bg-end));
}
header h1{font-size:2em; color:#333;}
header p{font-size:1em; color:#555; margin-top:5px;}

.cookie {width:200px; cursor:pointer; transition:0.3s; filter:drop-shadow(5px 5px 5px var(--cookie-shadow)); transform-origin:center bottom;}
.cookie:hover{transform:scale(1.05);}
.shake{animation:shake 0.5s cubic-bezier(.36,.07,.19,.97) both;}
@keyframes shake{10%,90%{transform:translateX(-1px);}20%,80%{transform:translateX(2px);}30%,50%,70%{transform:translateX(-4px);}40%,60%{transform:translateX(4px);}}

.fortune-card {position:fixed; top:50%; left:50%; transform:translate(-50%,-50%) scale(0.5); opacity:0; visibility:hidden;
  background: rgba(255 255 255 / 0.15); border-radius:20px; padding:25px 30px; max-width:400px; width:90%;
  text-align:center; backdrop-filter:blur(15px); border:4px solid transparent; transition:0.5s; z-index:10;
}
.fortune-card.show{transform:translate(-50%,-50%) scale(1); opacity:1; visibility:visible;}
.category-badge{font-family:"Poppins",sans-serif; font-weight:700; color:white; padding:6px 16px; border-radius:50px; text-transform:uppercase; font-size:0.85em; margin-bottom:12px; display:inline-block;}
.fortune-text{font-size:1.3em; line-height:1.5; margin-bottom:15px; color:#222;}
.close-btn{margin-top:10px; padding:5px 10px; border:none; border-radius:5px; cursor:pointer; font-weight:700; background:#333; color:#fff;}
.cooldown-text{font-size:1.2em; margin-top:15px; font-weight:700; min-height:1.5em; display:flex; justify-content:center; flex-wrap:wrap;}

/* Wave letters */
.wave span{display:inline-block; animation:wave 1s infinite;}
.wave span:nth-child(odd){animation-delay:0s;}
.wave span:nth-child(2){animation-delay:0.1s;}
.wave span:nth-child(3){animation-delay:0.2s;}
.wave span:nth-child(4){animation-delay:0.3s;}
.wave span:nth-child(5){animation-delay:0.4s;}
.wave span:nth-child(6){animation-delay:0.5s;}
@keyframes wave{0%,100%{transform:translateY(0);}50%{transform:translateY(-10px) rotate(5deg);}}
</style>
</head>
<body>
<header>
<h1>FORTUNE COOKIE</h1>
<p>Made by Bisayang Dabeh</p>
</header>

<div class="container">
  <img src="https://i.postimg.cc/NfQMp3Gx/image-removebg-preview.png" alt="Fortune Cookie" class="cookie" draggable="false">
</div>

<div class="fortune-card" id="fortune-card">
  <div class="category-badge" id="category-badge"></div>
  <p class="fortune-text" id="fortune-text"></p>
  <button class="close-btn" id="close-btn">X Close</button>
</div>

<div class="cooldown-text" id="cooldown-text"></div>

<script>
// Load fortunes
let fortunes=[], available=[], cooldown=false;
const categoryColors={"funny":"#FFD700","inspiring":"#87CEEB","unlucky":"#4A4A4A","lucky":"#008000",
  "sarcasm":"#800080","beware":"#FF0000","uplifting":"#20B2AA","lovely":"#FF69B4","hugot":"#B22222","dabeh":"#FF4500"};
fetch("fortunes.json").then(r=>r.json()).then(data=>{fortunes=data; available=[...fortunes];});

// Helpers
function shuffle(a){for(let i=a.length-1;i>0;i--){let j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}return a;}
function getFortune(){if(available.length===0) available=[...fortunes]; return available.pop();}
function getEmoji(c){return {"funny":"ðŸ˜‚","inspiring":"âœ¨","unlucky":"ðŸ˜¬","lucky":"ðŸ€","sarcasm":"ðŸ™ƒ","beware":"âš ï¸","uplifting":"ðŸŒˆ","lovely":"ðŸ’•","hugot":"ðŸ’”","dabeh":"ðŸ›‘"}[c]||"";}
function waveText(text){return text.split("").map(c=>`<span>${c}</span>`).join("");}

const cookie=document.querySelector(".cookie");
const card=document.getElementById("fortune-card");
const categoryBadge=document.getElementById("category-badge");
const fortuneText=document.getElementById("fortune-text");
const closeBtn=document.getElementById("close-btn");
const cooldownDiv=document.getElementById("cooldown-text");

// Show fortune
function displayFortune(f){categoryBadge.textContent=f.category.toUpperCase()+" "+getEmoji(f.category);
categoryBadge.style.backgroundColor=categoryColors[f.category]||"#333"; fortuneText.textContent=f.text; card.classList.add("show");}

// Show cooldown wave text
function showCooldown(category){
  const good=["Munching...","Digesting...","Blessed...","Eating..."];
  const bad=["Raging...","Thinking...","Dreaming...","Fuming..."];
  const arr = category==="dabeh"?bad:good;
  let seconds = Math.floor(Math.random()*6)+5; // 5-10s
  let text = arr[Math.floor(Math.random()*arr.length)] + ` [${seconds}s]`;
  cooldownDiv.innerHTML = waveText(text);
  let interval = setInterval(()=>{
    seconds--;
    if(seconds<=0){cooldownDiv.innerHTML=""; clearInterval(interval); cooldown=false;}
    else {text = arr[Math.floor(Math.random()*arr.length)] + ` [${seconds}s]`; cooldownDiv.innerHTML=waveText(text);}
  },1000);
}

// Click cookie
cookie.addEventListener("click", ()=>{
  if(cooldown) return; cooldown=true;
  cookie.classList.add("shake");
  setTimeout(()=>{cookie.classList.remove("shake"); displayFortune(getFortune());},500);
});

// Close fortune
closeBtn.addEventListener("click", ()=>{A<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fortune Cookie</title>
<link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@400;700&family=Poppins:wght@400;700&display=swap" rel="stylesheet">
<style>
:root{--funny:#ffd700;--inspiring:#87ceeb;--unlucky:#4a4a4a;--lucky:#008000;--sarcasm:#800080;--beware:#ff0000;--uplifting:#20b2aa;--lovely:#ff69b4;--hugot:#b22222;--dabeh:#ff4500;}
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:'Comfortaa',cursive;display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;background:linear-gradient(135deg,#f5f5dc,#f0e68c);background-size:100px 100px;text-align:center;user-select:none;padding:20px;}
header{margin-bottom:20px;} header h1{font-size:2em;color:#333;} header p{font-size:1em;color:#555;margin-top:5px;}
.container{display:flex;flex-direction:column;align-items:center;z-index:2;}
.cookie{width:200px;max-width:80vw;cursor:pointer;filter:drop-shadow(5px 5px 5px #e0ac69);transform-origin:center bottom;transition:transform 0.3s;}
.cookie:hover{transform:scale(1.05);}
@keyframes snapOpen{0%{transform:scale(1) rotate(0deg);}40%{transform:scale(1.1) rotate(-15deg);}70%{transform:scale(1.05) rotate(10deg);}100%{transform:scale(1) rotate(0deg);}}
.snap-open{animation:snapOpen 0.6s forwards;}
@keyframes shake{10%,90%{transform:translateX(-1px);}20%,80%{transform:translateX(2px);}30%,50%,70%{transform:translateX(-4px);}40%,60%{transform:translateX(4px);}}
.shake{animation:shake 0.5s cubic-bezier(0.36,0.07,0.19,0.97) both;}
.fortune-card{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%) scale(0.5);opacity:0;visibility:hidden;background:rgba(255,255,255,0.15);border-radius:20px;padding:25px 30px;max-width:400px;width:90%;text-align:center;backdrop-filter:blur(15px);border:4px solid transparent;z-index:10;transition:0.5s;}
.fortune-card.show{transform:translate(-50%,-50%) scale(1);opacity:1;visibility:visible;}
.category-badge{font-family:'Poppins',sans-serif;font-weight:700;color:white;padding:6px 16px;border-radius:50px;text-transform:uppercase;font-size:0.85em;margin-bottom:12px;display:inline-block;}
.fortune-text{font-size:1.3em;line-height:1.5;margin-bottom:15px;color:#222;display:inline-block;position:relative;}
.close-btn{margin-top:10px;padding:5px 10px;border:none;border-radius:5px;cursor:pointer;font-weight:700;background:#333;color:#fff;}
.countdown-text{font-size:1.2em;color:#333;margin-top:10px;font-weight:700;display:inline-block;}
@media(max-width:600px){header h1{font-size:1.5em;} .fortune-text{font-size:1.1em;} .cookie{width:150px;}}
</style>
</head>
<body>
<header>
<h1>FORTUNE COOKIE</h1>
<p>Made by Bisayang Dabeh</p>
</header>
<div class="container">
<img src="https://i.postimg.cc/NfQMp3Gx/image-removebg-preview.png" alt="Fortune Cookie" class="cookie" draggable="false"/>
</div>
<div class="fortune-card" role="dialog" aria-modal="true" aria-hidden="true" tabindex="0">
<div class="category-badge" id="category-badge"></div>
<p class="fortune-text" id="fortune-text"></p>
<div class="countdown-text" id="countdown-text"></div>
<button class="close-btn" id="close-btn">X Close</button>
</div>
<script>
let fortunes=[],available=[],cooldown=false;
const categories={funny:"#FFD700",inspiring:"#87CEEB",unlucky:"#4A4A4A",lucky:"#008000",sarcasm:"#800080",beware:"#FF0000",uplifting:"#20B2AA",lovely:"#FF69B4",hugot:"#B22222",dabeh:"#FF4500"};
fetch("fortunes.json").then(r=>r.json()).then(d=>{fortunes=d;available=[...fortunes];});
const cookie=document.querySelector(".cookie");
const card=document.querySelector(".fortune-card");
const badge=document.getElementById("category-badge");
const ftext=document.getElementById("fortune-text");
const countdown=document.getElementById("countdown-text");
const closeBtn=document.getElementById("close-btn");
function shuffle(a){for(let i=a.length-1;i>0;i--){let j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}return a;}
function getFortune(){if(available.length===0)available=shuffle([...fortunes]);return available.pop();}
function getEmoji(c){return{"funny":"ðŸ˜‚","inspiring":"âœ¨","unlucky":"ðŸ˜¬","lucky":"ðŸ€","sarcasm":"ðŸ™ƒ","beware":"âš ï¸","uplifting":"ðŸŒˆ","lovely":"ðŸ’•","hugot":"ðŸ’”","dabeh":"ðŸ›‘"}[c]||"";}
function waveText(textEl){let txt=textEl.textContent;textEl.innerHTML="";for(let c of txt){let span=document.createElement("span");span.textContent=c;span.style.display="inline-block";span.style.transform="translateY(0px)";textEl.appendChild(span);} let spans=[...textEl.querySelectorAll("span")]; let i=0;let anim=setInterval(()=>{spans.forEach((s,idx)=>{s.style.transform="translateY("+Math.sin((i+idx)/2)*8+"px)";});i+=0.3;},50);return anim;}
let animInterval=null;
function showFortune(f){badge.textContent=f.category.toUpperCase()+" "+getEmoji(f.category);badge.style.backgroundColor=categories[f.category]||"#333";ftext.textContent=f.text;card.classList.add("show");card.setAttribute("aria-hidden","false");if(animInterval)clearInterval(animInterval);animInterval=waveText(ftext);}
cookie.addEventListener("click",()=>{if(cooldown)return;cooldown=true;cookie.classList.add("shake","snap-open");setTimeout(()=>{cookie.classList.remove("shake","snap-open");showFortune(getFortune());},600);});
closeBtn.addEventListener("click",()=>{card.classList.remove("show");card.setAttribute("aria-hidden","true");let messages=["Munching","Digesting","Blessed","Eating","Raging","Thinking","Dreaming"];let c=Math.floor(Math.random()*6)+5;let msg=messages[Math.floor(Math.random()*messages.length)];countdown.textContent=msg+"... ["+c+"s]";let count=c;let interval=setInterval(()=>{count--;countdown.textContent=msg+"... ["+count+"s]";if(count<=0){clearInterval(interval);cooldown=false;countdown.textContent="";}},1000);});
</script>
</body>
</html>

  card.classList.remove("show");
  const f = fortunes[fortunes.length-1]; // last fortune
  showCooldown(f.category);
});
</script>
</body>
</html>
